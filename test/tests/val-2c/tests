[Tests]
  design = 'val-2c.md'
  validation = 'val-2c.md'
  issues = '#12 #98'
  [val-2c_immediate_injection_csv]
    type = CSVDiff
    input = val-2c_immediate_injection.i
    cli_args = 'Outputs/exodus=true'
    csvdiff = val-2c_immediate_injection_csv.csv
    requirement = 'The system shall be able to model the Test Cell Release Experiment (val-2c) with immediate T2 injection.'
    max_parallel = 1 # see #200
    recover = false # see #196
  []
  [val-2c_immediate_injection_exodus]
    type = Exodiff
    input = val-2c_immediate_injection.i
    cli_args = 'Outputs/exodus=true'
    prereq = val-2c_immediate_injection_csv
    should_execute = false # this test relies on the output files from val-2c_immediate_injection_csv, so it shouldn't be run twice
    exodiff = val-2c_immediate_injection_out.e
    custom_cmp = 'val-2c_exodus.exodiff'
    requirement = 'The system shall be able to model the Test Cell Release Experiment (val-2c) with immediate T2 injection and properly compute the exodus file.'
    max_parallel = 1 # see #200
    recover = false # see #196
  []
  [val-2c_delay_csv]
    type = CSVDiff
    input = val-2c_delay.i
    cli_args = 'Outputs/exodus=true'
    csvdiff = val-2c_delay_csv.csv
    requirement = 'The system shall be able to model the Test Cell Release Experiment (val-2c) with delayed T2 injection.'
    abs_zero = 1e-8
    rel_err = 3e-5
    max_parallel = 1 # see #200
    recover = false # see #196
  []
  [val-2c_delay_exodus]
    type = Exodiff
    input = val-2c_delay.i
    cli_args = 'Outputs/exodus=true'
    prereq = val-2c_delay_csv
    should_execute = false # this test relies on the output files from val-2c_delay_csv, so it shouldn't be run twice
    exodiff = val-2c_delay_out.e
    custom_cmp = 'val-2c_exodus.exodiff'
    requirement = 'The system shall be able to model the Test Cell Release Experiment (val-2c) with delayed T2 injection and properly compute the exodus file.'
    max_parallel = 1 # see #200
    recover = false # see #196
  []
  [val-2c_delay_calibrated_csv]
    type = CSVDiff
    input = 'val-2c_delay.i'
     # the parameter values below are from gold/calibrated_parameter_values.txt
    cli_args = 'reaction_rate=2.8331901331213944e-11
                diffusivity_elemental_tritium=3.8640662435310973
                diffusivity_tritiated_water=0.017373835349450507
                log_solubility_elemental_tritium=-3.683352919815223
                log_solubility_tritiated_water=6.8938628913078555
                time_injection_T2_end=9536.239653312441
                Outputs/file_base=val-2c_delay_calibrated_out'
    csvdiff = val-2c_delay_calibrated_out.csv
    requirement = 'The system shall be able to model the Test Cell Release Experiment (val-2c) with delayed T2 injection using calibrated model parameters.'
    abs_zero = 1e-8
    rel_err = 2e-5
    max_parallel = 1 # see #200
    recover = false # see #196
    issues = '#266'
  []
  [val-2c_delay_pss_study_csv]
    type = JSONDiff
    input = val-2c_pss_main.i
    cli_args = 'num_samplessub=2
                num_subsets=1
                Samplers/sample/num_parallel_chains=1
                subset_probability=0.5
                Samplers/sample/seed=1518
                file_base_output=val-2c_pss_results_short/val-2c_pss_main_short_out'
    jsondiff = val-2c_pss_results_short/val-2c_pss_main_short_out.json
    requirement = 'The system shall be able to perform a Parallel Subset Simulation study using a model of the Test Cell Release Experiment (val-2c) with delayed T2 injection.'
    abs_zero = 1e-8
    rel_err = 1e-5
    max_parallel = 1 # see #200
    recover = false # see #196
    issues = '#266'
  []
  [val-2c_delay_comparison]
    type = RunCommand
    command = 'python3 comparison_val-2c.py'
    requirement = 'The system shall be able to generate comparison plots between simulated solutions and experimental data of validation cases val-2c, modeling a Test Cell Release Experiment.'
    required_python_packages = 'matplotlib numpy pandas scipy os json'
  []
[]
